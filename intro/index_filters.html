<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>AngularJS Filters</title>
		<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.js"></script>
	</head>
	
	<body>
		<h1>Filter Example</h1>

		<div ng-app = "mainApp" ng-controller = "studentController">
			<table border = "0">
				<tr>
					<td>Enter first name:</td>
					<td><input type = "text" ng-model = "student.firstName"></td>
				</tr>
				<tr>
					<td>Enter last name: </td>
					<td><input type = "text" ng-model = "student.lastName"></td>
				</tr>
				<tr>
					<td>Enter fees: </td>
					<td><input type = "text" ng-model = "student.fees"></td>
				</tr>
				<tr>
					<td>Enter subject: </td>
					<td><input type = "text" ng-model = "subjectName"></td>
				</tr>
			</table>
			<br/>
			
			<table border = "0">
				<tr>
					<!-- uppercase -->
					<td>Name in Upper Case: </td><td>{{student.fullName() | uppercase}}</td>
				</tr>
				<tr>
					<!-- lowercase -->
					<td>Name in Lower Case: </td><td>{{student.fullName() | lowercase}}</td>
				</tr>
				<tr>
					<td>fees: </td><td>{{student.fees | currency}}
					</td>
				</tr>
				<tr>
					<td>Subject:</td>
					<td>
						<ul>
						<!-- filter (using subject name in input box) -->
						<!-- order by -->
						<li ng-repeat = "subject in student.subjects | filter: subjectName | orderBy:'marks'">
							{{ subject.name + ', marks:' + subject.marks }}
						</li>
						</ul>
					</td>
				</tr>
			</table>
		</div>

		<script>
			var mainApp = angular.module("mainApp", []);

			mainApp.controller('studentController', function($scope) {
				$scope.student = {
					firstName: "GuanZhou",
					lastName: "Xu",
					fees: 500,
					subjects: [
						{
							name: 'Physics',
							marks: 75
						},
						{
							name: 'Chemistry',
							marks: 65
						},
						{
							name: 'Math',
							marks: 95
						},
					],	
					fullName: function() {
						var studentObject;
						studentObject = $scope.student;
						return studentObject.firstName + " " + studentObject.lastName;
					}
				}
			});
		</script>
	</body>
</html>
